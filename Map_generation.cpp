#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

int main()
{
    srand(time(NULL)); // Инициализация генератора случайных чисел на основе текущего времени

    const int ROWS = 100; // Количество строк в континенте
    const int COLS = 100; // Количество столбцов в континенте
    const int LAND = 1; // Обозначение суши
    const int WATER = 0; // Обозначение воды

    int continent[ROWS][COLS]; // Массив для хранения континента

    // Генерация случайных значений для каждой клетки континента
    for (int i = 0; i < ROWS; i++)
    {
        for (int j = 0; j < COLS; j++)
        {
            continent[i][j] = rand() % 2; // Генерация случайного значения 0 или 1
        }
    }

    int iterations = 4; // Количество итераций для обновления состояния континента

    // Обновление состояния континента на протяжении заданного количества итераций
    for (int k = 0; k < iterations; k++)
    {
        int new_continent[ROWS][COLS]; // Временный массив для хранения нового состояния континента

        // Обход каждой клетки континента
        for (int i = 0; i < ROWS; i++)
        {
            for (int j = 0; j < COLS; j++)
            {
                int count = 0; // Счетчик для подсчета количества соседних клеток суши

                // Проверка каждой соседней клетки вокруг текущей клетки
                for (int x = i - 1; x <= i + 1; x++)
                {
                    for (int y = j - 1; y <= j + 1; y++)
                    {
                        // Проверка границ и исключение текущей клетки из подсчета
                        if (x >= 0 && x < ROWS && y >= 0 && y < COLS && !(x == i && y == j))
                        {
                            count += continent[x][y]; // Увеличение счетчика, если соседняя клетка суша
                        }
                    }
                }

                // Обновление состояния клетки в новом массиве на основе счетчика
                if (count >= 5)
                {
                    new_continent[i][j] = LAND; // Если соседей суши больше или равно 5, клетка становится сушей
                }
                else
                {
                    new_continent[i][j] = WATER; // Иначе клетка остается водой
                }
            }
        }

        // Обновление континента с помощью нового массива состояний
        for (int i = 0; i < ROWS; i++)
        {
            for (int j = 0; j < COLS; j++)
            {
                continent[i][j] = new_continent[i][j]; // Копирование состояний из временного массива в основной
            }
        }
    }

    // Вывод состояния континента
    for (int i = 0; i < ROWS; i++)
    {
        for (int j = 0; j < COLS; j++)
        {
            if (continent[i][j] == LAND)
            {
                cout << "#"; // Если клетка суша, выводим символ #
            }
            else
            {
                cout << " "; // Если клетка вода, выводим пробел
            }
        }
        cout << endl; // Переход на новую строку для вывода следующей строки континента
    }

    return 0;
}